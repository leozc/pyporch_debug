[GLOBAL]
pants_version = "2.30.0"
backend_packages = [
  "pants.backend.python",
]

[source]
root_patterns = ["/"]

[python]
interpreter_constraints = ["CPython==3.12.*"]
enable_resolves = true
pip_version = "25.3"

[python.resolves]
python-default = "3rdparty/python/default.lock"

# Platform-specific index: use CPU-only PyTorch for Linux only
[python.resolves_to_sources]
python-default = [
    "pytorch_cpu=torch; sys_platform == 'linux'",
    "pytorch_cpu=torchvision; sys_platform == 'linux'",
]

[python-repos]
indexes = [
  "https://pypi.org/simple/",
  "buf=https://buf.build/gen/python",
  "pytorch_cpu=https://download.pytorch.org/whl/cpu",
]

[generate-lockfiles]
diff = false
